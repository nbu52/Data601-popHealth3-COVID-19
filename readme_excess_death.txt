Here we are trying to confirm how the excess deaths data are calculated in the OECD data. Based on the methodology notes in the OECD database, we assume that the weekly excess death data from 2020 to 2022 are calculated by subtracting the average death number of that week from 2015 to 2019 from the reported death number of that year. 
However, we want to confirm that there is no further adjustment made to the data, so here we are replicating the calculations ourselves.

Here we have 3 CSV files: 'OECD_weekly_mortality_data.csv', 'Final_Updated_OECD_weekly_mortality_data_standard_rounding.csv', and 'Mismatched_OECD_weekly_mortality_data_standard_rounding.csv'. 
'OECD_weekly_mortality_data.csv' is the original mortality data from the OECD database, which has been wrangled so that it is easier for further processing. The other 2 CSV files are the calculated results created by 'excess_death.Rmd'. The first one, 'Final_Updated_OECD_weekly_mortality_data_standard_rounding.csv' serves as a final data set consolidating all the calculations and comparisons into one unified collection, and the second one, 'Mismatched_OECD_weekly_mortality_data_standard_rounding.csv' consists of the mismatched rows between our calculation and the excess death data provided in the OECD database. 

We are able to observe that most of the rows in 'Final_Updated_OECD_weekly_mortality_data_standard_rounding.csv' have two 'True' values at the end, meaning most of the excess death data are indeed calculated by simply subtracting the average death number of that week from 2015 to 2019 from the reported death number of that year. However, there are some rows that contain at least one 'False' value at the end, meaning there has been a difference between our calculations and the data in the OECD database. These rows are filtered into 'Mismatched_OECD_weekly_mortality_data_standard_rounding.csv', the last CSV file.

Taking a deeper dive into the last CSV file, we can confirm that, for all the rows where the excess deaths columns from the original OECD database are not empty, the mismatches all stem from 2 possibilities. The first possibility is that it comes from a 'week 53'. Because some years do not have a 'week 53', the OECD database used a different method to calculate the excess death data for 'week 53', and therefore, our calculations do not match that. The other possibility is that the row in question contains one True and one False, meaning that for excess death number and excess death percentage change, one of them matches the data from the OECD database, while the other does not. Upon inspection, it is clear that rounding discrepancies are the cause of these issues. Also, this is not easy to deal with in coding because the floating point problem also plays a role in this issue. That said, we are able to confirm that these are just rounding discrepancies and not actual mismatches. The actual mismatches are all from 'week 53' where the methodology is different.

This leads us to conclude that the excess death data from 2020 to 2022 in the OECD database was calculated by simply subtracting the average death number from 2015 to 2019 from the reported death number of that year without any adjustment, except for 'week 53' where they have to use another methodology. 

(I used ChatGPT and Grammarly to check the language of this readme note, and the R markdown file 'excess_death.Rmd' is also written with the help of ChatGPT.)